<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<title>Editing the documentation - Coppermine Photo Gallery - Documentation &amp; Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="language" content="en" />
<meta name="copyright" content="Coppermine dev team" />
<meta name="description" content="Editing the documentation: This part of the documentation is not meant for end users of Coppermine, but only for developers. There is no support for this section, it comes as-is." />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta http-equiv="imagetoolbar" content="no" />
<!--
  SVN version info:

  Coppermine version: 1.5.1
  $Revision$
  $LastChangedBy$
  $Date$
-->
<link rel="stylesheet" type="text/css" href="../style/style.css" media="all" />
<link rel="stylesheet" type="text/css" href="../style/screen.css" media="screen" />
<link rel="stylesheet" type="text/css" href="../style/print.css" media="print" />
<link rel="shortcut icon" href="../favicon.ico" />
<script src="../js/jquery.js" type="text/javascript"></script>
<script src="../js/jquery.treeview.js" type="text/javascript"></script>
<script src="script.js" type="text/javascript"></script>
</head>
<body>
<h1 id="docheader">Coppermine Photo Gallery v1.5.x: Documentation and Manual</h1>
<div id="toc">
<a href="toc.htm">Table of Contents</a>
</div>

<a name="dev_documentation_edit"></a><h1>Editing the documentation<a href="#dev_documentation_edit" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h1>
<a name="dev_documentation_target_audience"></a><h2>Target audience<a href="#dev_documentation_target_audience" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>This part of the documentation is not meant for end users of Coppermine, but only for developers. There is no support for this section, it comes as-is.</p>
<a name="dev_documentation_edit"></a><h2>Edit existing documents<a href="#dev_documentation_edit" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>To edit existing documents, simply use your favorite plan text editor - it is all plain HTML plus the JavaScript navigation</p>

<a name="dev_documentation_add"></a><h2>Add new documents<a href="#dev_documentation_add" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>To add new documents, follow the steps below:
  <ul>
    <li>just use an existing document as template to copy from. Save it within the docs folder giving it a unique, web-safe name that is meaningful.</li>
    <li>Edit out the content of the new document after the header section, i.e. between
    <pre class="smallcode">&lt;body&gt;
&lt;script type="text/javascript"&gt;
  cpgDocHeader();
&lt;/script&gt;
&lt;div id="toc"&gt;
&lt;script type="text/javascript"&gt;
  cpgDocToc();
&lt;/script&gt;
&lt;noscript&gt;
&lt;a href="toc.htm"&gt;Table of Contents&lt;/a&gt;
&lt;/noscript&gt;
&lt;/div&gt;</pre>
    and
    <pre class="smallcode">&lt;script type="text/javascript"&gt;
  cpgDocFooter();
  dateRevision(' $<b></b>LastChangedDate<b></b>$<b></b> ', ' $<b></b>Revision<b></b>$<b></b> ');
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
    This is the section where your actual content should reside</li>
    <li>Edit the <tt class="code">&lt;title&gt;</tt>-tag to reflect your document's content</li>
    <li>Edit script.js to add your document to the JavaScript navigation:<br />
    Find <tt class="code">cpgDocToc</tt> and edit the section below it. The syntax is obviously just plain HTML that get's written into the document using JavaScript's <tt class="code">document.write</tt> syntax.
    Don't forget to escape single quotes properly!</li>
    <li>Edit toc.htm and add a link to the plain HTML table of contents. This is necessary to allow search engine spiders to crawl the documentation, so please do not skip this step. The structure should be pretty self-explanatory (as suggested: plain HTML).</li>
    <li>After taking care of creating the file and displaying it in the navigation, it's time to come up with your content. Make sure to use meaningful headlines (preserving the existing <tt class="code">&lt;h1&gt;</tt>, <tt class="code">&lt;h2&gt;</tt>, <tt class="code">&lt;h3&gt;</tt> ... structure). Preferably add anchors as well, making an icon (<img src="images/anchor.gif" width="15" height="9" border="0" alt="" title="anchor-icon for easy linking">) appear next to each headline that allows easy linking (this should be particularly helpful on the support board - you can add references to particular documentation sections in no time). Take a look at the existing documents for an example</li>
    <li>Edit the description meta tag of the new page - come up with a short summary what the page is about. The description meta tag is taken into account by search engine spiders, especially when searching the entire site - see <a href="http://www.google.com/search?q=site%3Adocumentation.coppermine-gallery.net" rel="external" class="external">http://www.google.com/search?q=site%3Adocumentation.coppermine-gallery.net</a></li>
    <li>Finally, save your changes and add/commit your file(s) to the subversion repository.</li>
  </ul>
</p>

<a name="dev_documentation_move"></a><h2>Moving content from one document to the other<a href="#dev_documentation_move" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>When moving content from an existing document to the other (or into a new one), you have to make sure that the links that point to it get moved as well. To do so, search the entire documentation and the coppermine core code for the anchor name and change them to reflect your changes in the documentation.</p>

<a name="dev_documentation_hidden_feature"></a><h2>Hidden features<a href="#dev_documentation_hidden_feature" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>To display the content of a particular page of the documentation without the page header, logo, table of contents, search form and footer, add the URL parameter <tt class="code">hide_nav=1</tt> to the URL. This is meant to allow displaying content within an iframe or similar. Currently, this feature is being used in the installer only.</p>

<a name="dev_documentation_database_structure"></a><h2>Database structure<a href="#dev_documentation_database_structure" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>The documentation file <a href="dev_database.htm">dev_database.htm</a> contains documentation about Coppermine's database structure. It's important to keep that piece of the documentation in sync with the actual database changes, i.e. if a dev changes something at database level by editing <tt class="code">sql/basic.sql</tt>, <tt class="code">sql/schema.sql</tt> or <tt class="code">sql/update.sql</tt> that has an impact on the database schema, the documentation has to be updated as well, preferably with the same commit.</p>

<a name="dev_documentation_header_block"></a><h2>Header &amp; footer blocks<a href="#dev_documentation_header_block" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
Each "regular" file in the documentation needs to contain the header and footer blocks that will be replaced using JavaScript with additional chrome. If you're interessted how this is done, please review <tt class="code">./docs/en/script.js</tt>. The only important thing to keep in mind is that the section
<pre>&lt;h1 id="docheader"&gt;Coppermine Photo Gallery v1.5.x: Documentation and Manual&lt;/h1&gt;
&lt;div id="toc"&gt;
&lt;a href="toc.htm"&gt;Table of Contents&lt;/a&gt;
&lt;/div&gt;</pre>
needs to be preserved right after the <tt class="code">&lt;body&gt;</tt>-tag.<br />
In a similar manner, the footer section
<pre>&lt;div id="doc_footer"&gt;
	&lt;div class="doc_info_wrapper"&gt;
		&lt;span id="doc_last_changed"&gt;&#036;LastChangedDate: 2009-05-27 20:18:54 +0200 (Mi, 27 Mai 2009) &#036;&lt;/span&gt;
		&lt;span id="doc_revision"&gt;&#036;Revision: 6003 &#036;&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;</pre>
right in front of the closing <tt class="code">&lt;/body&gt;</tt>-tag mustn't be edited nor removed.


<a name="dev_documentation_i18n"></a><h2>Documentation internationalization<a href="#dev_documentation_i18n" title="Link to this section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>To help translators come up with valid translations of the docs some extra JavaScript goodies have been added: if a file in a non-english branch of the docs (e.g. "de" -> German) get's added initially in English as a preparation for the translation, the translator or maintainer is encoraged to edit that file (e.g. <tt class="code">./docs/de/example.htm</tt>) and add <tt class="code">&lt;div id="doc_en_only"&gt;No translation available&lt;/div&gt;</tt> into the body right after the div blocks that compose the header and menu. This block will be replaced using JavaScript/jquery with a more advanced text that explains the document's temporary stage and that translations are welcome. That text can be edited per language in <tt class="code">./docs/yourlanguage/script.js</tt> in the function definition for <tt class="code">cpgDocTranslationWarning</tt>. The maintainer of that language is welcome to add a link to a corresponding thread on the support board.</p>
<p>To mark such documents in the localized, non-English menu, you can use the class <tt class="code">en</tt>, e.g. like this:</p>
<div class="cpg_example">
	<pre>&lt;li&gt;&lt;a href="example.htm" class="en"&gt;Foo bar&lt;/a&gt;&lt;/li&gt;</pre>
	will result in
	<div class="border1">
		<ul>
			<li><a href="example.htm" class="en" style="text-decoration:none;" rel="nofollow"><img src="../../images/flags/us.png" width="16" height="10" border="0" alt="" style="margin-right:5px" />Foo bar</a></li>
		</ul>
	</div>
</div>
<p>To enable translators to come up with the navigation structure in advance, you can use the CSS class <tt class="code">nolink</tt> to make a link go "blind", i.e. make it do nothing when clicked, as in this example:</p>
<div class="cpg_example">
	<pre>&lt;li&gt;&lt;a href="example.htm" class="nolink"&gt;Foo bar&lt;/a&gt;&lt;/li&gt;</pre>
	will result in
	<div class="border1">
		<ul>
			<li><a href="example.htm" class="nolink" style="text-decoration:none;">Foo bar</a></li>
		</ul>
	</div>
	Go ahead and click the link to see what happens then: nothing. Keep in mind that this will only work if JavaScript is enabled. If it is disabled, the link will of course lead to it's target no matter what. 
</div>
<p>If particular anchor targets haven't been finished yet, you can use the CSS class <tt class="code">cancel</tt> to display a cancel icon like this:</p>
<div class="cpg_example">
	<pre>&lt;li&gt;&lt;a href="example.htm" class="cancel"&gt;Foo bar&lt;/a&gt;&lt;/li&gt;</pre>
	will result in
	<div class="border1">
		<ul>
			<li><a href="example.htm" class="cancel" style="text-decoration:none;" rel="nofollow"><img src="../../images/icons/cancel.png" width="16" height="16" border="0" alt="" style="margin-right:5px" />Foo bar</a></li>
		</ul>
	</div>
</div>
<p>To make sure that temporary content doesn't ruin the google page rank or clutters the search result, you should instruct the robots not to index temporary pages - this is done by adding the corresponding meta tag to the file's HTM header:</p>
<div class="cpg_example">
	<pre>&lt;meta name="robots" content="noindex" /&gt;</pre>
</div>
<p>Subsequently, if a temporary document get's permanent, the meta tag should be removed.</p>

<div id="doc_footer">
	<div class="doc_info_wrapper">
		<span id="doc_last_changed">$LastChangedDate$</span>
		<span id="doc_revision">$Revision$</span>
	</div>
</div>
</body>
</html>