<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<title>Dépannage du téléchargement - Coppermine Photo Gallery - Documentation &amp; Manuel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="language" content="fr" />
<meta name="copyright" content="Coppermine dev team" />
<meta name="description" content="Si vous rencontrez des problèmes avec le téléchargement, changez temporairement les réglages de Coppermine comme expliqué ici pour voir les messages d'erreurs plus détaillés. Cela s'applique à toutes les méthodes de téléchargement, pas seulement au téléchargement par HTTP." />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta http-equiv="imagetoolbar" content="no" />
<!--
  SVN version info:

  Coppermine version: 1.5.3
  $HeadURL$
  $Revision$
  $LastChangedBy$
  $Date$
-->
<link rel="stylesheet" type="text/css" href="../style/style.css" media="all" />
<link rel="stylesheet" type="text/css" href="../style/screen.css" media="screen" />
<link rel="stylesheet" type="text/css" href="../style/print.css" media="print" />
<link rel="shortcut icon" href="../favicon.ico" />
<script src="../js/jquery.js" type="text/javascript"></script>
<script src="../js/jquery.treeview.js" type="text/javascript"></script>
<script src="script.js" type="text/javascript"></script>
</head>
<body>
<h1 id="docheader">Coppermine Photo Gallery v1.5.x: Documentation et Manuel</h1>
<div id="toc">
<a href="toc.htm">Table des Matières</a>
</div>

<div id="doc_en_partial"></div>

<a name="upload_trouble"></a><h1>Dépannage du téléchargement<a href="#upload_trouble" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h1>
<p>Si vous avez des problèmes de téléchargement, lisez cette page - entièrement! L'équipe de développement de Coppermine considère cette page comme la plus importante de toute la documentation, simplement parcequ'il peut y avoir plusieurs choses qui peuvent mal se passer lors du processus de téléchargement. Ces problèmes sont le plus souvent causés par de mauvais paramétrages du serveur.</p>
<button type="button" class="button detail_expand_all" name="expandalltop" id="expandalltop" onclick="return false"><img src="../../images/tree/plus.gif" width="9" height="9" border="0" alt="" title="Expand All" /> Montrer tous les détails</button>
<button type="button" class="button detail_collapse_all" name="collapsealltop" id="collapsealltop" style="display:none;" onclick="return false"><img src="../../images/tree/minus.gif" width="9" height="9" border="0" alt="" title="Collapse all" /> Cacher tous les détails</button>

<a name="upload_trouble_permission"></a><h2>Droits<a href="#upload_trouble_permission" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p class="cpg_message_info"><strong>En premier lieu et avant tout:</strong> Vérifiez les paramètres des droits des répertoires <tt class="code">/albums</tt>, <tt class="code">/albums/userpics</tt>, et <tt class="code">/albums/edit</tt>. Sur les serveurs tournant sous  <abbr title="Unix, Linux and related operating systems">*nix</abbr>, le répertoire <tt class="code">/albums</tt> et tous ses sous-répertoires doivent être sur 777 ou 755 (en fonction de la configuration du serveur). Si vous ne savez pas ce que nous voulons dire par <em>777</em> ou <em>755</em>, vous devrez lire la <a href="install_permissions.htm#permissions">section concernant les droits</a> (si ça ne vous aide pas, faites une recherche Google sur <em>les droits des fichiers UNIX</em>). Windows a un système de droits similaire. Vous pouvez généralement paramétrer ces droits en utilisant un <em>client FTP</em> (Si vous ne savez pas ce qu'est un <em>client FTP</em>, faites une recherche sur Google pour <em>client FTP</em> ou jetez un oeil sur la liste des <a href="dev_tools.htm#dev_tools_ftp_client">outils recommandés</a>).</p>

<p class="cpg_message_error">Pour ceux qui passent sur les déclarations écrites en rouge, nous allons nous répéter pour essayer d'attirer votre attention:<br />
<span class="important"><strong>Oui, nous écrivons sur des choses qui peuvent facilement s'appliquer à vous</strong></span>
</p>
<p>Nous répettons  - vérifiez/appliquez les permissions aux répertoires <tt class="code">/albums</tt>, <tt class="code">/albums/userpics</tt>, et <tt class="code">/albums/edit</tt>.  Tous devraient être sur 777 ou 755 (en fonction des paramètres de votre serveur) ou de manière à donner à Coppermine les droits d'accès en écriture.</p>
<p class="cpg_message_info">Oui, nous voulons que vous <strong>aapliquiez</strong> ces droits pour chaque répertoire, même si vous pensez que vous l'avez déjà fait. Oui nous le <strong>voulons</strong>. Non, juste <em>vérifier</em> les droits (ex. regarder ce que votre client FTP déclare au niveau des droits)  <strong>n'est pas</strong> suffisant. Comme nous l'avons déjà dit: paramétrez/appliquez les droits, ne faites pas juste une vérificatio.</p>

<a name="upload_trouble_enable_settings"></a><h2>Activez les paramètres de dépannage<a href="#upload_trouble_enable_settings" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>Si vous rencontrez des problèmes avec le processus de téléchargement de Coppermine, changez temporairement les paramètres de Coppermine comme expliqué plus bas pour avoir des <a href="#upload_error_messages">messages d'erreur</a> plus détaillés. Cela s'applique à <strong>toutes</strong> les methodes de téléchargement, pas uniquement aux <a href="uploading_http.htm#upload_http">téléchargements par HTTP</a>.</p>
<span class="detail_head_collapsed">Détails</span>
<div class="detail_body border1">
	Même si vous avez des problèmes avec l'ajout d'images par lots (ou pour toute autre méthode de téléchargement), vous devez suivre les étapes détaillées ci-après et qui vérifient les téléchargements par HTTP, parceque le téléchargement par HTTP est la méthode de téléchargement la plus basique et qu'elle doit fonctionner dans toutes les circonstances.<br />
	Si vous êtes sur le point de demander de l'aide à propos de problèmes de téléchargement sur le forum de Coppermine, il est impératif que vous ayez suivi scrupuleusement les étapes détaillées ci-dessous.
</div>
<p>Pour l edépannage de problèmes de téléchargement dans <abbr title="Coppermine Photo Gallery">CPG</abbr> 1.5, il vous est demandé d'activer le '<a href="configuration.htm#debug_mode">Mode de déboguage</a>' dans  <a href="configuration.htm">la page de configuration</a>. Le changement de ce paramètre annule le masquage des erreurs lors des téléchargements multiples. Cela vous permettra d'avoir des mesages d'erreur plus détaillés.</p>
<ul>
	<li>
		<strong class="detail_head_collapsed">Identifiez vous en tant qu'administrateur</strong>
		<div class="detail_body">Allez sur votre galerie Coppermine et identifiez vous en tant qu'administrateur</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Paramétrez &quot;Méthode de téléchargement par défaut&quot; à &quot;Simple&quot;</strong>
		<div class="detail_body">
			<ul>
				<li>Allez sur <a href="configuration.htm#admin">la page de configuration</a></li>
				<li>Descendez jusqu'à la section &quot;Paramètre des Utilisateurs&quot; et développez là en cliquant dessus</li>
				<li>Paramétrez <a href="configuration.htm#admin_upload_mechanism">Methode de téléchargement par défaut</a> à  &quot;<em>Simple - un fichier à la fois</em>&quot;</li>
				<li>Descendez jusqu'au bas de la page</li>
				<li>Sauvegardez les nouveaux réglages en  cliquant sur &quot;Sauvegardez la nouvelle configuration&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Activez le &quot;mode de déboguage&quot;</strong>
		<div class="detail_body">
			<ul>
				<li>Allez à la <a href="configuration.htm#admin">page de configuration</a></li>
				<li>Descendez à la section &quot;Paramètres de maintenance&quot; et développez là en cliquant dessus</li>
				<li>Activez le mode de déboguage pour tout le monde en cliquant sur &quot;Oui: Tout le monde&quot; dans la ligne &quot;Activez le mode de déboguage&quot;</li>
				<li>Laissez l'affichage des avertissements sur off - si la case à cocher &quot;Afficher les avertissements dans le mode de déboguage&quot; est cochée, décochez là (les avertissements ne sont là que vous les développeures - si vous n'avez pas idée de ce qu'ils signifient, cachez les de manière permanante)</li>
				<li>Descendez jusqu'au bas de la page</li>
				<li>Sauvegardez les nouveaux réglages en  cliquant sur &quot;Sauvegardez la nouvelle configuration&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Allez à la page de téléchargement en cliquant sur le lien &quot;télécharger un fichier&quot; dans le menu principal de Coppermine</strong>
		<div class="detail_body">
			La page de téléchargement par HTTP vous sera accessible, à vous en tant qu'administrateur, dans tous les cas. Ce n'est pas le cas pour les visiteurs non-administrateurs de votre galerie: l'affichage du lien dans le menu dépend des droits que vous leur avez assignés .
		</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Sur la page de téléchargement de fichiers, choisissez un album depuis la liste déroulante "Album"</strong>
		<div class="detail_body">
			Si vous n'avez pas d'album séléctionnables dans la liste, vous n'avez pas encore créer d'albums. Vous devez comprendre que vous devez avoir au moins un album ou vous pourrez placer vos images. Allez au <a href="albums.htm#albmgr">gestionnaires d'albums</a> et créez au moins un album, puis essayez à nouveau de télécharger.
		</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Cliquez sur le bouton "Parcourir..." et cherchez une petite images, connue sans problèmes et au format jpg sur votre disque dur.</strong>
		<div class="detail_body">
			Ne croyez pas que <em>n'importe quelle</em> image ira - le terme "sans problèmes" signifie dans ce cas une image qui a déjà été traitée par Coppermine, afin d'être sur que Coppermine peut l'utiliser - celà peut être réalisé facilement en téléchargeant une image de la démo de Coppermine depuis la page initiale de Coppermine.
		</div>
	</li>
	<li>
		<strong class="detail_head_collapsed">Validez le formulaire en cliquant sur le bouton "Télécharger le fichier"</strong>
		<div class="detail_body">
			En validant le formulaire, vous lancez le processus de téléchargement - tout ce que vous avez fait avant n'était qu'une préparation.
		</div>
	</li>
</ul>
<p>Vous devez essayer d'utiliser le téléchargement par HTTP, même si vous avez des problèmes avec une autre méthode. Vous aurez un  <a href="#upload_error_messages">message d'erreur</a> plus détaillé, si quelque chose se passe mal et vous indiquera exactement ce qui ne fonctionne pas avec votre téléchargement. Si le message d'erreur ne signifie rien pour vous,  <a href="http://coppermine-gallery.net/forum/index.php?action=search" rel="external" class="external">cherchez sur le forum d'aide </a> pour le message d'erreur que vous avez eu.</p>
<p>Si vous n'avez pas de message d'erreur, vous avez probablement surchargé le serveur avec vos essais précédents. Merci de regarder <a href="upload_troubleshooting.htm#upload_trouble_server-sided_restrictions"> les limitations côté serveur</a> qui peuvent s'appliquer à vous.




<a name="upload_support"></a><h2>Demander de l'aide pour des problèmes de téléchargement<a href="#upload_support" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>

<p class="cpg_message_error">Lorsque vous demandez de l'aide sur le forum de Coppermine, postez un lien vers votre site et un <a href="users.htm#user_cp_new">compte utilisateur de test</a> (L'utilisateur de test ne doit pas avoir de droits d'administrateur!) avec des droits de téléchargement, et les réglages mentionnés plus haut en place - de cette manière, les suppoteurs pourront aussi voir les messages d'erreur. Ne postez <strong>pas</strong> la sortie de déboguage sans y avoir été invité. Si vous voulez avoir des résultats rapide, vous devrez désactiver l'approbation des téléchargements par l'administrateur pour le groupe d'utilisateur de l'utilisateur test, ainsi les supporteurs pourront dire instantanément ce qui ne va pas sans une double vérification.</p>
<div class="cpg_message_warning">Lorsque des personnes ont des problèmes avec le téléchargement et décident de poster leurs questions sur le forum de Coppermine, il leur est souvent demander de lire cette section de dépannage des téléchargements. Beaucoup d'entre eux ne le font pas correctement, avec comme résultat des frustrations aussi boen du coté de l'utilisateur que du supporteur.<br />
Pour être très clair: les étapes décrites ci-dessus sont absolument <strong>obligatoires</strong>, quelles que soient vos connaissances, quelle que soit la méthode de téléchargement qui vous pose problèmes. Ne pas faire <strong>exactement</strong> ce qui est demandé fera que vous n'obtiendrez pas d'aide. Oui celà s'applique aussi à vous. Nous vous l'assurons!</div>
<p>Pas sur de savoir quoi faire maintenant ? Lisez la suite:</p>
<a name="upload_support_step-by-step"></a><h3>Guide pas à pas pour une demande d'aide<a href="#upload_support_step-by-step" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<p>Ce guide pas à pas est fait pour expliquer de manière précise et complète quels sont les paramètres que vous devez appliquer lorsque vous sollicitez un soutien sur le forum d'aide de Coppermine.</p>
<p>Nous admettrons que vous avez appliqué les bons réglages au niveau des droits, donc nous allons reprendre de manière plus précise et compliquée que normalement nécéssaire sur la plupart des paramètres de serveur: les instructions ci-dessous sont prévues pour permettre le dépannage par les supporteurs, même si les autres utilisateurs de votre galerie ne sont pas autorisés à télécharger ou si vous avez interdit les nouvelles inscriptions. Si vous savez comment faire, vous pouvez sauter les étapes qui expliquent comment créer un nouveau groupe si tous les utiliseurs enregistrés sont autorisés à télécharger de toute façon. En fin de compte, l'important, ce qui compte, c'est que le supporteur puisse faire des téléchargements jusqu'à ce qu'il / elle puisse voir ce qui se passe réellement pendant le procesus de téléchargement.</p>
<ul>
	<li>
		<a name="upload_support_admin_login"></a><h4 class="detail_head_collapsed">Identifiez vous en tant qu'administrateur<a href="#upload_support_admin_login" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">Allez dans votre galerie Coppermine et identifiez vous comme administrateur</div>
	</li>
	<li>
		<a name="upload_support_create_uploader_group"></a><h4 class="detail_head_collapsed">Créez le groupe "téléchargeurs"<a href="#upload_support_create_uploader_group" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			Les instructions suivante pour la création d'un groupe ne s'applique que si vous utilisez Coppermine en mode indépendant. Si vous avez bridgé votre galerie Coppermine, utilisez l'application avec laquelle vous êtes brigé pour créer le groupe "téléchargeurs".
			<ul>
				<li>Allez <a href="groups.htm#group_cp">dans le gestionnaire de groupes</a> en cliquant sur le lien correspondant du <a href="admin_menu.htm#admin_menu">menu administrateur</a></li>
				<li>Descendez au bas de la page</li>
				<li>Cliquez sur le bouton &quot;Créer un nouveau groupe&quot; </li>
				<li>Une nouvelle ligne apparait au bas de la table du gestionnaire de groupe. Cliquez dans le champ nom et entrez un nom qui à du sens, par exemple , e.g. &quot;téléchargeurs&quot;</li>
				<li>Descendez en bas de page</li>
				<li>Validez le formulaire en cliquant sur le bouton &quot;Appliquer les changements&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_assign_permissions_uploader_group"></a><h4 class="detail_head_collapsed">Donnez les droits de téléchargement au groupe "téléchargeurs"<a href="#upload_support_assign_permissions_uploader_group" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			Les intructions suivantes sur la manière de donner les droits à un groupe s'appliquent aussi bien aux galeries bridgées qu'indépendantes.
			<ul>
				<li>Alles <a href="groups.htm#group_cp">dans el gestionnaire de groupes</a> en cliquant sur le lien correspondant du <a href="admin_menu.htm#admin_menu">menu administrateur</a></li>
				<li>Pour le groupe "téléchargeursé que vous avez créer à l'étape précédente, réglez l'option &quot;Autorisé&quot; à &quot;Ouis&quot; dans la colonne &quot;Téléchargements dans les albums publics&quot;. Paramétrez l'option &quot;Approbation&quot; sur &quot;Non&quot; dans cette celulle.</li>
				<li>Descendez en bas de page</li>
				<li>Validez le formulaire en cliquant sur le bouton &quot;Appliquer les changements&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_create_test_user"></a><h4 class="detail_head_collapsed">Créez un compte utilisateur de test non Administrateur<a href="#upload_support_create_test_user" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			Les instructions suivante pour la création d'un utilisateur ne s'applique que si vous utilisez Coppermine en mode indépendant. Si vous avez bridgé votre galerie Coppermine, utilisez l'application avec laquelle vous êtes brigé pour créer le nouvel utilisateur.
			<ul>
				<li>Allez <a href="users.htm#user_cp">dans le gestionnaire d'utilisateurs</a> en cliquant sur le lien correspondant du <a href="admin_menu.htm#admin_menu">menu administrateur</a></li>
				<li>Descendez en bas de page</li>
				<li>Cliquez sur le bouton &quot;Créer un nouvel utilisateur&quot; </li>
				<li>Sur la page suivante, entrez un nom d'utilisateur facile à retenir et à entrer - nous recommandons quelque chose de simple comme &quot;testeur&quot;, de préférence sans majuscules.</li>
				<li>Donnez un mot de passe facile - ce peut être le même que le nom d'utilisateur.</li>
				<li>Asssignez cet utilisateur au groupe "téléchargeurs" que vous avez créer avant - assurez vous que la valeur du champ de la liste déroulante des groupes est bien  &quot;téléchargeurs&quot; (ou n'importe quel nom que vous avez choisi pour ce groupe suplémentaire).</li>
				<li>Descendez en bas de page et validez le formulaire.</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_create_album"></a><h4 class="detail_head_collapsed">Créez un album dans lequel les fichiers téléchargés pourront être placés<a href="#upload_support_create_album" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			Pour l'instant nous vaons créer un groupe spécial qui est autorisé à télécharger dans les albums publics, mais nous n'avons pas défini dans lequel ces téléchargements sont autorisés. Nous devons tout d'abbord créer cet album.
			<ul>
				<li>Allez <a href="albums.htm#albmgr">dans le gestionnaire d'albums</a> en cliquant sur le lien correspondant du <a href="admin_menu.htm#admin_menu">menu administrateur</a></li>
				<li>Choisissez une catégorie dans laquelle cet album test ser acréer - choisissez la catégorie dans la liste déroulante du gestionnaire d'albums. Pour plus de facilité, il est recommandé de créer l'album à la racine de la galerie (sélectionnez &quot;* Pas de Catégorie *&quot; dans la liste déroulante).</li>
				<li>Cliquez sur le bouton &quot;Nouvel album&quot; au bas de la page du gestionnaire d'albums</li>
				<li>Un champ de saisie s'affiche. Entrez le nom du nouvel albums comme par exemple &quot;album test&quot; et vaidez le formulaire en cliquant sur le bouton O</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_album_permissions"></a><h4 class="detail_head_collapsed">Autorisez le téléchargement dans l'album test<a href="#upload_support_album_permissions" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			L'album dans lequel seront placés les téléchargements existe, mais pour l'isnatnt personne, à part l'administrateur, n'a le droit d'y télécharger. Autorisons le téléchargement dansr cet album.
			<ul>
				<li>Allez à l'index de la galerie ne cliquant sur le lien &quot;Albums&quot; du menu général de la galerie</li>
				<li>Allez à la catégories dans laquelle vous avez créer l'abum test (si vous avez fait comme nous l'avons suggéré et créer l'album à la racine de la galerie, vous devriez être au bnn endroit, donc pas besoin de faire quoi que ce soit ici pour vous)</li>
				<li>Cliquez sur le bouton &quot;Propriétés&quot; à côté de la vignette vide représentant l'album de test</li>
				<li>dans la page <a href="albums.htm#album_prop">propriétés de l'album</a>, paramétrezt &quot;Les visiteurs peuvent télécharger des fichiers&quot; sur &quot;Oui&quot;</li>
				<li>Si votre galerie à beaucoup de trafic et que vous ne voulez pas prévenir vos visiteurs qu'il y a un album test choisissez &quot;Membres du groupe 'téléchargeurs'&quot; dans la liste déroulante &quot;Les Visiteurs peuvent télécharger des fichiers&quot;</li>
				<li>Allez en bas de page et validez le formulaire en cliquant sur le bouton &quot;Mettre à jour l'album&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_simple_upload_method"></a><h4 class="detail_head_collapsed">Paramétrez &quot;Méthode de téléchargement par défaut&quot; sur &quot;Simple&quot;<a href="#upload_support_simple_upload_method" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			<ul>
				<li>Allez à la page de <a href="configuration.htm#admin">configuration</a></li>
				<li>Descendez à la section &quot;Paramètres des utilisateurs&quot; et déployez la en cliquant dessus</li>
				<li>Réglez <a href="configuration.htm#admin_upload_mechanism">Methode de téléchargement par défaut</a> sur  &quot;<em>Simple - un seul fichier à la fois</em>&quot;</li>
				<li>Descendez en bas de page</li>
				<li>Sauvegardez les nouveaux réglages en cliquant sur &quot;Sauvegarder la nouvelle configuration&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_debug_mode"></a><h4 class="detail_head_collapsed">Activez le &quot;mode de déboguage&quot;<a href="#upload_support_debug_mode" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			<ul>
				<li>Allez à la page de <a href="configuration.htm#admin">configuration</a></li>
				<li>Descendez à la section &quot;Paramètres de maintenance&quot; et déployez la en cliquant dessus</li>
				<li>Activez le mode de déboguage pour tout le monde en cliquant sur &quot;Oui: Tout le monde&quot; dans la ligne &quot;Activez le mode de déboguage&quot;</li>
				<li>Laissez l'affichage des avertissement placé sur off - si la case à cochér &quot;Afficher les averticements en mode de déboguage&quot; est cochée, décochéz là (les avertissements ne s'adressent qu'aux développeurs - si vous ne savez pas ce qu'ils veulent dire, ne les affichez jamais)</li>
				<li>Descendez en bas de page</li>
				<li>Sauvegardez les nouveaux réglages en cliquant sur &quot;Sauvegarder la nouvelle configuration&quot;</li>
			</ul>
		</div>
	</li>
	<li>
		<a name="upload_support_test_for_yourself"></a><h4 class="detail_head_collapsed">Testez le téléchargement en utilisant le compte de l'utilisateur test<a href="#upload_support_test_for_yourself" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			Vous pouriez être tenté d'aller directement demander de l'aide, mais attendez une minute: vous n'avez pas essayé par vous même si tout fonctionne correctement maintenant. Vous n'allez pas ouvrir un sujet de demande d'aide sur le forum juste pour vous entendre dire &quot;faites d'abbord vos devoirs&quot; (parce que c'est ce qui va vous arriver si vous ne faites pas ce qui est demandé ici). Voici ce que vous devez faire:
			<ul>
				<li>Déconnectez vous de Coppermine (ou utilisez un autre navigateur) si vous êtes connectés en tant qu'administrateur</li>
				<li>Identifiez vous en utilisant le compte de l'utilisateur test que vous avez crére précédemment (compte non-administrateur). Si la connection echoue,vérifiez le détail de ce compte en étant identifié en tant qu'administrateur.</li>
				<li><img src="images/simple_file_upload.png" width="400" height="178" border="0" alt="" title="Interface de téléchargement simple" align="right" style="padding-left:5px;" />Cliquez sur lien du menu &quot;Télécharger un fichier&quot;. Si vous n'avez pas ce line de téléchargement, vous avez mal paramétré les droits - vérifiez les étapes précédentes avec attention.</li>
				<li>Sur la page de téléchargement, choisissez l'album test dans la liste déroulante &quot;Album&quot;. Si vous ne pouvez pas sélectionner l'album test, vous avez du faire une erreur lors du paramétrage des droits</li>
				<li>Cliquez sur le bouton "Parcourir..." et cherchez une petite image au format jpg réputée bonne sur votre disque dur. Ne croyez pas que n'importe quelle image fera l'affaire: dans le doute téléchargez une image depuis la galerie de démonstration de Coppermine</li>
				<li>Validez le formulaire en cliquant sur le bouton &quot;Télécharger un fichier&quot;</li>
			</ul>
			Dans un monde idéal, tout devrait marcher comme prévu - votre téléchargement devrait se passer sans problèmes et vous devriez voir l'image téléchargée dans une page Coppermine. Si c'est le cas, le téléchargement par HTTP fonctionne correctement. Si ce n'est pas le cas, vous devriez avoir un <a href="#upload_error_messages">message d'erreur</a> qui explique ce qui ne va pas. Si vous n'arrivez pas à comprendre ce que le message d'erreur veut dire, mais que vous avez pu faire toutes les étapes précédentes, y compris la dernière (la validation du formulaire), alors, allez y demandez de l'aide sur le forum de Coppermine. Vous serez aussi les bienvenus pour demander de l'aide si le téléchargement par HTTP focntionne correctement et que vous souhaitez de l'aide pour une autre méthode de téléchargement.
		</div>
	</li>
	<li>
		<a name="upload_support_post_support_request"></a><h4 class="detail_head_collapsed">Postez votre demande d'aide sur le forum de Coppermine<a href="#upload_support_post_support_request" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
		<div class="detail_body">
			<ul>
				<li>Allez sur le <a href="http://forum.coppermine-gallery.net/" rel="external" class="external">Forum d'aide de Coppermine</a></li>
				<li>Créez un nouveau compte sur le forum si vous n'en avez pas déjà un et identifiez vous.</li>
				<li>Assurez vous d'avoir bien lu les règles du forum avant de poster (il y a un lien vers les règles du forum dans le menu de celui ci)</li>
				<li>Commencez un nouveau sujet dans le forum correspondant à votre version de coppermine. Comme vous venez de lire la documentation de cpg1.5.x, vous utilisez certainement celle-ci, vous devrez donc commencer votre nouveau sujet dans la section correspondant à cette version (ou sur le forum francophone si vous ne parlez pas ou mal l'anglais). Poster dans la section d'une autre version n'est pas une bonne idée, celà n'apportera que de l'iritation de la part des supporteurs et de vous même. Comme vous avez des problèmes avec le téléchargement, vous devriez poster dans la section qui s'y rapporte.</li>
				<li>Dans votr emessage, asurrez vous de mettre un lien vers votre galerie. Si votre galerie à un contenu destiné aux adultes (le nu soft entre dans cette catégorie) n'oubliez pas de le signaler de manière claire avec votre lien</li>
				<li>Postez les détails du compte de l'utilisateur test (nom d'utilisateur et mot de passe) que vous avez défini précédemment</li>
				<li>C'est une bonne idée de montrer aux supporteurs que vous avez essayé par vous même avant de demander de l'aide - expliquez ce qui ne fonctionne pas correctement j'usqu'ou vous avez pu aller, quel message d'erreur vous avez eu etc...</li>
			</ul>
		</div>
	</li>
</ul>
<a name="upload_support_step-by-step_end"></a>

<a name="upload_support_example"></a><h3>Exemple de demande d'aide<a href="#upload_support_example" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<div class="cpg_example">
	<p>Voici comment votre demande d'aide devrait se présenter (assurez vous de bien compléter les données en rouge avec vos données à vous):</p>
	<div class="quote">J'ai un problème avec le téléchargement dans ma galerie Coppermine <span class="important">http://exemple.com/mon_repertoire_coppermine/</span><br />
	Lors de l'utilisation du téléchargement par HTTP, avec les réglages recommandés pour le dépannage des téléchargements en place, j'ai le message d'erreur suivant<br />&nbsp;<br />
	[code]<span class="important">Le texte de votre message d'erreur ici</span>[/code]<br />&nbsp;<br />
	Voici les données de mon compte utilisateur test: <br />
	&nbsp;&nbsp;&nbsp;&nbsp;Nom d'utilisateur: <span class="important">testeur</span><br />
	&nbsp;&nbsp;&nbsp;&nbsp;Mot de passe: <span class="important">truc</span><br />&nbsp;<br />
	J'ai utilisé l'image prise ici <span class="important">http://exemple.com/chemin_vers_l_image/file.jpg</span> comme exemple pour les tests.<br />
	En faisant comme indiqué dans <span class="important">http://forum.coppermine-gallery.net/un_sujet_du_forum</span> ça ne fonctionne pas comme prévu: j'ai<br />
	[code]<span class="important">Un autr emessage d'erreur</span>[/code]<br />
	en essayant ça. Je ne sais pas quoi faire d'autre.<br />
	Merci par avance pour vos suggestions</div>
</div>
<a name="upload_support_example_end"></a>
<a name="upload_support_end"></a>


<a name="upload_error_messages"></a><h2>Messages d'erreur<a href="#upload_error_messages" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<table border="0" cellspacing="0" cellpadding="0" class="cpg_zebra">
  <tr>
    <th align="left">Error message</th>
    <th align="left">Possible cause</th>
    <th align="left">Suggested fix</th>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorCantMovePic"></a><tt class="code">Impossible to move <em>somepic.jpg</em> to albums/userpics/<br />
      Warning: move_uploaded_file(/tmp/<em>phpezCYKr</em>)<br />
      [function.move-uploaded-file]: failed to create stream: Operation not permitted</tt><a href="#ErrorCantMovePic" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      PHP's temporary folder is missing or doesn't have the needed permissions
    </td>
    <td valign="top">
      You should contact the admin of your webhost because you usually can't change the location of the website's temporary directory for file uploads, yourself (it is part of PHP configuration) .<br />
      If the <em><a href="http://www.php.net/manual/en/ini.php#ini.list" rel="external" class="phpnet">open_basedir</a> restriction</em> is in effect on your site then the temp directory for file uploads should be one that you can access.
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorImpossibleToMove"></a><tt class="code">Impossible to move <em>somepic.jpg</em> to albums/userpics/</tt><a href="#ErrorImpossibleToMove" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">The coppermine script doesn't have permissions on the filesystem of the server to create the thumbnail or intermediate image within the specified folder</td>
    <td valign="top">Apply permissions on the albums folder and everything within it as suggested in the section <a href="install_permissions.htm#permissions">Setting permissions</a>. This error message is the most frequent one, as many users tend to skip reading the permissions section. At least when getting this error message, you should read it thoroughly.</td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorFailedToOpenDir"></a><tt class="code">Warning: opendir(./albums/edit): failed to open dir: No such file or directory</tt><a href="#ErrorFailedToOpenDir" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      <ul>
        <li>'edit'-folder in your albums folder is missing</li>
        <li>'edit'-folder in your albums folder doesn't have rwx-<a href="install_permissions.htm#permissions">permissions</a></li>
        <li>Improper upgrade from cpg1.3.x</li>
      </ul>
    </td>
    <td valign="top">
      <ul>
        <li>Make sure you have a folder named 'edit' in your albums folder.</li>
        <li>Make sure the edit directory has been chmod to 777/755.</li>
        <li>Make sure you have completely <a href="upgrading.htm#upgrade">upgraded</a> to Coppermine 1.5.x</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="httpPostVars"></a><tt class="code">Warning: Undefined variable: HTTP_POST_VARS in include/init.inc.php on line 43</tt><a href="#httpPostVars" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      <ul>
        <li>Outdated PHP-version on your server</li>
        <li>Improper webserver configuration</li>
      </ul>
    </td>
    <td valign="top">
      Check if <a href="install_faq.htm#VersionPHP">your version of PHP</a> fullfills the <a href="requirements.htm#what">minimum requirements</a> for Coppermine. If your version is 4.3.0 or better, then this error is probably caused by a misconfiguration of your hosting server, and not a Coppermine issue. If the server isn't yours to configure properly (that is: if you're with a webhost), you can try this workaround (at your own risk):<br >
      Edit the file "init.inc.php" and look for<br />
      <div class="quote">$PHP_SELF = isset($_SERVER['REDIRECT_URL']) ? $_SERVER['REDIRECT_URL'] : $_SERVER['SCRIPT_NAME'];</div>
Replace it with<br />
      <div class="quote">$PHP_SELF = $_SERVER['PHP_SELF'];</div>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorNoAlbumExisting"></a><tt class="code">Sorry there is no album where you are allowed to upload files</tt><a href="#ErrorNoAlbumExisting" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      <ul>
        <li>You (as admin) haven't created any albums yet.</li>
        <li>You (as non-admin user) don't have the permission to upload to public albums</li>
        <li>You (as non-admin user) haven't created at least one album in your personal gallery</li>
      </ul>
    </td>
    <td valign="top">
      <ul>
        <li>If you get this message when logged in as the admin of your gallery, then you need to <a href="albums.htm#albmgr_create">create at least one album</a> where files can be uploaded</li>
        <li>If you get this message when logged in as a non-admin, then you need to make sure you understand the permissions concept behind Coppermine: on the <a href="groups.htm#group_cp">groups control panel</a> the admin determines  whether users can create personal galleries (i.e. create albums inside their user gallery) or if they are allowed to upload into admin-created public albums. If the user <strong>is</strong> allowed to create personal galleries and gets this message, he must create at least one album first by clicking on &quot;Create / Order my albums&quot;. If the user is only allowed to upload to public albums (which need to be created by the admin in advance) and gets the above mentioned error message, then the admin needs to specify at least one public album where visitors are allowed to upload, using the <a href="albums.htm#album_prop">album properties</a> screen.</li>
        <li>If you get this message when not logged in at all (i.e. being a guest), then you need to review the Coppermine permissions concept as well: if you want to allow guests to upload (not recommended because of potential abuse), you need to specify the general upload ability on the <a href="groups.htm#group_cp">groups control panel</a> (for the guest/anonymous group) and you will also need to modify the <a href="albums.htm#album_prop">album properties</a> screen of at least one album and allow uploads for visitors in that album.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorAllowedMemorySize"></a><tt class="code">Fatal error: Allowed memory size of <em>XXXXXXX</em> bytes exhausted at (null):0 (tried to allocate <em>XXXX</em> bytes) in /var/www/html/include/picmgmt.inc.php</tt><a href="#ErrorAllowedMemorySize" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      This error occurs when using GD and attempting to upload a high resoltuion image.  It's not the size of the file that matters here; it's the number of pixels that determine memory use in GD. This is not a <a href="errors.htm#errors_soft">soft error</a> triggered by Coppermine, but a <a href="errors.htm#errors_hard">hard error</a> from PHP that shines through Coppermine from PHP.
    </td>
    <td valign="top">
      There is (at least in theory) no limit <em>in Coppermine</em> to the file size or dimensions that the script can handle. However, there is at least one limit existing on the webserver: resizing images (to create intermediate images and/or thumbnails) consumes memory and burns CPU cylces. To prevent the server from crashing, the server admin has to restrict the amount of memory that a PHP script is allowed to consume. The error message mentioned above means that the limit imposed by the server admin has been reached, i.e. the image that the script tried to process consumed to much memory.
      <ul>
        <li><strong>Alternative 1 (ideal):</strong><br />
        Increase the memory limit allocation in php.ini as suggested in <a href="upload_troubleshooting.htm#upload_trouble_memory_usage">Memory usage during resizing</a>. 
        If you cannot change php.ini, you should read alternatives 2 and 3.</li>
         <li><strong>Alternative 2 (sensible):</strong><br />
         Resize your images before uploading if you do not require high resolution images.  This saves upload bandwidth and time for you.</li>
         <li><strong>Alternative 3 (workaround):</strong><br />
         You may download one of many free programs that resize images. Then resize the images to a smaller resolution (like 800 x 600) by the batch into a different folder while maintaining the same filenames.<br />
         Upload the resized images to Coppermine.  Then use your FTP client to overwrite the images with the higher resolution images. </li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorExecDisabled"></a><tt class="code">Exec() has been disabled</tt><a href="#ErrorExecDisabled" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      php.ini allows the server administrator to disable certain functions. Usually this is the case if your server is running in safe_mode.
    </td>
    <td valign="top">
      If the server administrator has disabled exec() you will not be able to use Image Magick.<br />
      You may try to replace exec() with passthru() in the entire core code of coppermine (not recommended) if it has not been disabled as well.  Otherwise, you can't use ImageMagick and must use GD. Change <a href="configuration.htm#admin_picture_thumb_advanced_resize_method">Method for resizing images</a> in config accordingly.
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="ErrorNotAGdExtension"></a><tt class="code">Not a GD extension</tt><a href="#ErrorNotAGdExtension" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      The file(s) you tried to upload can not be handled using the GD ImageLibrary
    </td>
    <td valign="top">
      The GD library can only handle jpeg, png and gif files, while the ImageMagick library supports additionally bmp, psd and some other (less common) file types. However, those files are not suitable for use on the internet. Details can be found in the <a href="configuration.htm#admin_picture_thumb_advanced_pic_extensions">Allowed image types</a> section in the config page of the docs.
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="imagemagick127"></a><tt class="code">The file '<em>albums/userpics/10001/somepic.jpg</em>' can't be inserted in the album. Error executing ImageMagick - Return value <strong>127</strong></tt><a href="#imagemagick127" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      You haven't specified the correct <a href="configuration.htm#admin_picture_thumb_advanced_im_path">path to ImageMagick</a>, or you don't have ImageMagic at all.
    </td>
    <td valign="top">
      If you're sure that you actually have ImageMagick available on your server, review <a href="configuration.htm#admin_picture_thumb_advanced_im_path">path to ImageMagick</a>. If the path appears to be correct, make sure that the coppermine script has permissions to read and execute the convert executable within the ImageMagick folder. If you're not sure, switch <a href="configuration.htm#admin_picture_thumb_advanced_resize_method">Method for resizing images</a> from &quot;ImageMagick&quot; to &quot;GD2&quot;, then try uploading again.
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="no_gd_support"></a><tt class="code">PHP running on your server does not support the GD image library, check with your webhost if ImageMagick is installed.</tt><a href="#no_gd_support" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      Your webserver doesn't come with support for the GD image library.
    </td>
    <td valign="top">
      Make sure that you fullfill the <a href="requirements.htm#what">minimum requirements</a> to run Coppermine. If GD is not available on your server, you could use ImageMagick. Ask your webhost if ImageMagick is available on your webserver.
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="no_file_uploaded"></a><a name="allow_file_uploads"></a>
      <tt class="code">No file was uploaded ! If you have really selected a file to upload, check that the server allows file uploads...</tt><a href="#no_file_uploaded" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">
      File uploads are disabled in php.ini or there is a permissions issue or there is an issue with your webserver's upload mechansim.
    </td>
    <td valign="top">
      There may be several reasons for this error message. The file you tried to upload did not &quot;reach&quot; the folder on the webserver where it is supposed to go. Check if there's a problem with HTTP uploads on your server - this feature may have been disabled or improperly configured. In <a href="faq.htm#VersionPHP">phpinfo()</a>, check that "file_uploads" is ON, "upload_max_filesize" is something like 2M and "upload_tmp_dir" is a valid directory! Make sure to review your <a href="install_permissions.htm#permissions">file/folder permissions</a> as well.<br />
      If the server isn't yours to administer, you may have to ask your webhost for support. Here is what you should check:
      <ul>
	      <li>test file &quot;<strong>too large</strong>&quot;<br />
	      If you encounter this error message in the first place, make sure that the file you test uploading with is not to large in terms of file size and dimensions. Test with a known-good, small file first. You are welcome to download one from the coppermine demo gallery and use that for testing purposes.</li>
	      <li>&quot;<strong>file_uploads</strong>&quot; enabled<br />
	      Go to your phpinfo page (available as <a href="admin_menu.htm#phpinfo">admin menu</a> item), search it for <tt class="code">file_uploads</tt> and make sure that it is set to &quot;on&quot;. If you are on shared webhosting, only your webhost can enable this for you.</li>
	      <li>&quot;<strong>upload_tmp_dir</strong>&quot; needs to be set<br />
	      On the phpinfo page, make sure that <tt class="code">upload_tmp_dir</tt> needs to be set. If you are on shared webhosting, only your webhost can set this up for you. The script (i.e. the user the webserver runs under) needs to be allowed to write to that file.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">
      <a name="destination_not_writable"></a><tt class="code">Destination directory albums/userpics/XXXXX/ is not writable by the script</tt><a href="#destination_not_writable" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a>
    </td>
    <td valign="top">permissions on file system level are not correct</td>
    <td valign="top">Make sure to review your <a href="install_permissions.htm#permissions">file/folder permissions</a>. If that doesn't help, ask your webhost for support.</td>
  </tr>
</table>
<a name="upload_error_messages_end"></a>

<a name="upload_trouble_server-sided_restrictions"></a><h2>Server-sided restrictions<a href="#upload_trouble_server-sided_restrictions" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h2>
<p>All upload methods, but particularly HTTP uploads are limited by the restrictions placed upon them in PHP's configuration.</p>

<a name="upload_trouble_server-sided_restrictions_php_ini"></a><h3>The PHP configuration file php.ini<a href="#upload_trouble_server-sided_restrictions_php_ini" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<div class="cpg_message_info">
Please understand that the settings in php.ini can only be changed if the server is yours to administer (i.e. if you run a webserver of your own). If you are webhosted, you will have to ask your webhost if he's willing to change those settings for you, which usually equals allowing you to use more resources on the server. Usually, your webhost will <strong>not</strong> accept this for sheer economical reasons: granting you to use more resources will mean that he can host less presences on one shared server.</div>

<div class="cpg_message_error">Please don't ask questions on the coppermine support board what the actual settings are supposed to be or how you can change them - as suggested above: you usually won't be able to change them at all when you're webhosted.<br />If you're actually self-hosted (which is something we can not recommend at all as running and maintaining a webserver requires constant monitoring and maintenance as well as a huge amount of experience and a high skill level), don't bother to ask trivial questions like &quot;Where can I find my php.ini file&quot; - if you don't know the answer to this question, you fall into the category &quot;self-hosting not recommended due to lack of experience&quot; and will be ignored on the coppermine support board.</div>

<a name="upload_trouble_server-sided_restrictions_check"></a><h3>Things to check<a href="#upload_trouble_server-sided_restrictions_check" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<p>If you are webhosted, you will need to consult with your webhost regarding the following settings. You can review (although not change) those settings on your <a href="admin_menu.htm#phpinfo">phpinfo page</a>.</p>
<ol>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_max_input_time"></a><h4>max_input_time<a href="#upload_trouble_server-sided_restrictions_check_max_input_time" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      60 seconds is the default time limit for uploading files.<br />This time limit includes the time it takes for the files to upload, so if you exceed this limit, the file will not even parse, and the browser will not get a response. You can workaround this by trying to upload smaller or fewer files, or you can try uploading over broadband. The best solution, of course, is to increase the time limit to something more in line with your needs.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_upload_max_filesize"></a><h4>upload_max_filesize<a href="#upload_trouble_server-sided_restrictions_check_upload_max_filesize" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      2MB is the default limit for individual files.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_post_max_size"></a><h4>post_max_size<a href="#upload_trouble_server-sided_restrictions_check_post_max_size" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      8MB is the default limit for post requests.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_memory_limit"></a><h4>memory_limit<a href="#upload_trouble_server-sided_restrictions_check_memory_limit" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      8MB is the default size. Read up <a href="#upload_trouble_memory_usage">Memory usage during resizing</a> for instructions how to change this setting and circumvent the error messages related to the memory limit being reached.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_limitlequestlody"></a><h4>LimitRequestBody<a href="#upload_trouble_server-sided_restrictions_check_limitlequestlody" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      512KB default limit. (mainly an issue on Redhat/Apache systems.  Found in /etc/http/conf.d)<br />In general, upload_max_filesize &lt; post_max_size &lt; memory_limit in order for uploads to function properly. Coppermine may warn you if a file exceeds upload_max_filesize, but it cannot warn you if the total size of all the files exceeds the post limit or the memory limit.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_file_uploads"></a><h4>file_uploads<a href="#upload_trouble_server-sided_restrictions_check_file_uploads" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      This determines whether or not PHP will allow file uploads. It must be set to &quot;On&quot;.
  </li>
  <li>
      <a name="upload_trouble_server-sided_restrictions_check_upload_tmp_dir"></a><h4>upload_tmp_dir<a href="#upload_trouble_server-sided_restrictions_check_upload_tmp_dir" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h4>
      This specifies the temporary directory where PHP stores uploaded files.<br />
      The most common issue caused by this setting is an open_basedir warning.  In this situation, your server administrator has restricted the files that PHP can work with to a certain directory.  If he does not create and specify a temporary directory within the open_basedir restriction, PHP will attempt to use the OS temporary directory, and it will be rebuffed by the open_basedir restriction.
  </li>
</ol>


<a name="upload_trouble_methods"></a><h3>Upload mechanisms/methods<a href="#upload_trouble_methods" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<p><strong>Some notes about the different types of upload mechanisms available since cpg1.3.x (or better):</strong></p>
<p>Multiple HTTP uploads are designed to handle a small number of files.  Therefore, they are not well suited for the uploading of large numbers of files unless you are running your own webserver or have control over the php.ini configuration.</p>
<p>If you are looking to upload more than 15 or 20 files at a time, you should consider the <a href="uploading_batch-add.htm#batch_add_pics">batch add</a> process or the <a href="uploading_xp-publisher.htm#xp_publish_upload">XP Publisher</a> utility.  Each has its own drawbacks and advantages.</p>
<p>The batch add process is fast, but it creates quite a load on the server and, as a result, you may experience timeouts causing your uploads to terminate prematurely.  XP Publisher, on the other hand, is considerably slower, but it limits the load on the server.  It also circumvents many of the pitfalls caused by limitations set in the php.ini configuration by uploading each file in the batch being uploaded as an individual post request.</p>
<p>Other alternative upload mechanisms (like Client-based agents as JUpload or similar) may be provided as third-party contributions - you're encouraged to look at them as well, but please keep in mind that the coppermine developers can only provide limited support for third-party contributions.</p>
<p>Keep in mind though that before trying any alternative upload mechanism, you have to make sure that the initial upload method &quot;http uploads&quot; works as expected - if it doesn't, you have to fix that first; it doesn't make sense to try alternative upload mechanisms if the core upload mechanism doesn't work.</p>

<a name="upload_trouble_memory_usage"></a><h3>Memory usage during resizing<a href="#upload_trouble_memory_usage" title="Lien vers cette section"><img src="images/anchor.gif" width="15" height="9" border="0" alt="" /></a></h3>
<p>There is (at least in theory) no limit in Coppermine to the file size or dimensions that the script can handle. However, there is at least one limit existing on the webserver: resizing images (to create intermediate images and/or thumbnails) consumes memory and burns CPU cylces.</p>
<p>If the resizing process is eating up too much memory, you usually get the error message <a href="upload_troubleshooting.htm#ErrorAllowedMemorySize"><tt class="code">Fatal error: Allowed memory size of XXXXXXX bytes exhausted at (null):0 (tried to allocate XXXX bytes) in /var/www/html/include/picmgmt.inc.php</tt></a> or similar.</p>
<p>To prevent the server from crashing, the server admin has to restrict the amount of memory that a PHP script is allowed to consume. This is done using the parameter <a href="#upload_trouble_server-sided_restrictions_check_memory_limit">memory_limit</a>.</p>
<p>You might be tempted to believe that the memory usage equals the file size an image consumes on file system level, but that's not the case: the common file format JPEG is compressed, so if the server loads a JPEG file into memory, it consumes much more RAM than it consumed on file system level.</p>
<p class="cpg_message_success">To calculate the amount of memory an image uses, you simply multiply the pixel width and height, and then you multiply the result by the number of base colors (RGB - 3, CMYK - 4). Finally, you divide by 1,048,576 (<span title="because one megabyte is not exactly one million bytes due to the wonderfull nature of binary arithmetics" class="explain">2<sup>20</sup></span>) to get the memory usage in MB.</p>
<p>Here are some common image resolutions and their memory use in GD (assuming RGB):</p>
<table border="0" cellspacing="0" cellpadding="0" class="cpg_zebra">
    <tr>
        <th>Width</th>
        <th></th>
        <th>Height</th>
        <th>Memory usage</th>
    </tr>
    <tr>
        <td style="text-align:right">800</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">600</td>
        <td style="text-align:right">1.4 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1024</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">768</td>
        <td style="text-align:right">2.3 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1280</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">800</td>
        <td style="text-align:right">2.9 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1280</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1024</td>
        <td style="text-align:right">3.8 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1400</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1050</td>
        <td style="text-align:right">4.2 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1600</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1200</td>
        <td style="text-align:right">5.5 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">1920</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1400</td>
        <td style="text-align:right">7.7 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">2048</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1536</td>
        <td style="text-align:right">9.0 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">2560</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">1600</td>
        <td style="text-align:right">11.7 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">2800</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">2100</td>
        <td style="text-align:right">16.8 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">3200</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">2400</td>
        <td style="text-align:right">22.0 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">4096</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">3072</td>
        <td style="text-align:right">36.0 MB</td>
    </tr>
    <tr>
        <td style="text-align:right">6400</td>
        <td style="text-align:center">x</td>
        <td style="text-align:right">4800</td>
        <td style="text-align:right">87.9 MB</td>
    </tr>
</table>
<p>Remember when using the above figures that the amount of memory being used by the rest of Coppermine must be taken into account, too.</p>
<p>As you can see, the memory consumption of images produced by modern digital cameras can easily be too much for your webserver to cope with, even when using <a href="uploading_http.htm#upload_http_interface_html">single file uploads</a> (let alone the consumption when processing several images using <a href="uploading_batch-add.htm#batch_add_pics">batch-add</a>), so it's recommended to resize your images on your client before uploading them: if the server simply isn't capable to process the images uploaded, there's little point in blaming the script (i.e. Coppermine) or asking for support on the Coppermine support board: the Coppermine devs can not find a cure for the technology used on webservers. Use the webserver for what it has been designed to be used for; perform resources-intensive calculations (like resizing images with a high resolution) on your client.</p>
<p>To increase the memory limit allocation in php.ini, you must be the server's administrator. Also, .htaccess files cannot change this configuration setting, and it cannot be changed using ini_set(). This being said, most coppermine users who are on shared webhosting will not be able to change this. If you actually are the server admin, here's how to increase the memory limit:<br />
First, you locate the following block in php.ini (if you actually are the server admin):<br />
<pre>;;;;;;;;;;;;;;;;;;;
; Resource Limits ;
;;;;;;;;;;;;;;;;;;;

max_execution_time = 30     ; Maximum execution time of each script, in seconds
max_input_time = 60        ; Maximum amount of time each script may spend parsing request data
memory_limit = 8M      ; Maximum amount of memory a script may consume (8MB)</pre>

<p>Now you increase the memory limit to fit your needs. 9 to 16 MB should handle most requirements.</p>
<p></p>If you are unable to change php.ini settings yourself, you can always ask your server administrator to change this for you.  However, most administrators (especially on shared webhosting) will be reluctant to do so, as this setting will affect everyone on a shared server. A higher memory limit requires reducing the number of people who can be hosted on the same server in order to maintain server stability. This reduces profitability, etc.</p>

<div class="cpg_message_error">Do <strong>not</strong> ask questions on the Coppermine support board how to configure your webserver; it's beyond the scope of the Coppermine support board to explain webserver setups. Usually (if you're on shared webhosting, which is the case for the vast majority of Coppermine users), you can't change webserver settings anyway. Only the person who actually administers the webserver (i.e. the webhost's admin) can change webserver settings.<br />
Therefore, you better ask <strong>your webhost</strong> for support if you have issues with ressource limitations or other questions that related to webserver setup. If you're self-hosted (which is something the coppermine dev team doesn't recommend), you should read up your issue in the documentation that comes with your webserver.</div>


<a name="upload_trouble_end"></a>

<div id="doc_footer">
	<div class="doc_info_wrapper">
		<span id="doc_last_changed">$LastChangedDate$</span>
		<span id="doc_revision">$Revision$</span>
	</div>
</div>
</body>
</html>
